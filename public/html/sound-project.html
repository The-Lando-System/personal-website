<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
    <link href="/stylesheets/bootstrap.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap-theme.min.css" rel="stylesheet">
    <link href="/stylesheets/sticky-footer.css" rel="stylesheet">
    <title>Matt's Site</title>
  </head>

  <body role="document" ng-app="myApp" ng-controller="SoundInfoController">

    <div ng-include="'nav-bar'"></div>

    <!-- Header -->
    <div class="row">
      <div class="page-header" style="padding-top:1px;">
        <h1>Sound Project</h1>
        <h1><small>An exploration of web development and Arduino hacking</small></h1>
      </div>
    </div>

    <!-- Graph Row -->
    <div class="row">

      <!-- Graph Controls -->
      <div class="col-md-4">

        <div id="controlDiv" class="panel panel-primary">

          <div class="panel-heading">
            <h3 class="panel-title">Graph Controls</h3>
          </div>

          <div class="panel-body">
            <div class="col-md-6">

              <h4>Refresh Interval:</h4>

              <div>
                <label><input id="oneSecInt" type="radio" name="refreshInterval" ng-model="refreshIntervalValue" ng-change="toggleGraphControls()" checked="checked" value="1000">1 second</label>
              </div>

              <div>
                <label><input id="oneHundredMilliInt" type="radio" name="refreshInterval" ng-model="refreshIntervalValue" ng-change="toggleGraphControls()" value="100">100 milliseconds</label>
              </div>

            </div>

            <div class="col-md-6">
              <div style="padding-top:10px">
                <label>
                  <input id="autoRefreshCheckbox" type="checkbox" ng-model="refreshCheckboxValue" ng-change="toggleGraphControls()"> Auto-Refresh
                </label>
              </div>
              <div style="padding-top:10px">
                <button id="deleteSoundDataBtn" ng-click="deleteSoundData()" class="btn btn-warning">Reset Data</button>
              </div>
            </div>

          </div>

        </div>

        <!-- Load Sample Data Button -->
        <div style="padding-top:10px">
          <button id="loadCSVDataBtn" ng-click="loadCSVData()" class="btn btn-info" title="Load a set of sample data into the graph and table">Load Sample Data</button>
        </div>

      </div>

      <!-- Sound Graph -->
      <div>
        <div id="graphDiv" style="float: left; width:800px" ></div>
      </div>
    </div>

    

    <div class="row">
      <hr>

      <!-- Sound Project Info -->
      <div class="col-md-6">
        <h2>Summary</h2>
        <p>This page can display sound data collected from my Arduino board via a Piezo transducer. The Piezo will convert a mechanical vibration to an analog signal which then passes through an ADC to output discrete values based on the frequency of vibration. When I plug the Arduino board to my computer, I can read the data on the serial port. I wrote a Python script to collect this data, and post it to an endpoint on this website at a configurable rate. I store the sound data in a Mongo DB back end, and display it in a JS visualization tool called Dynagraph.</p>
        <p>The point of this project was two-fold: create a website using the MEAN stack, and combine it with an Arduino project. I was also able to deploy the site to Heroku.</p>
      </div>
      <div class="col-md-6">
        <h2>Technologies, Languages, and Libraries Used</h2>
        <ul class="list-group">
          <li class="list-group-item">MongoDB</li>
          <li class="list-group-item">Express</li>
          <li class="list-group-item">AngularJS</li>
          <li class="list-group-item">NodeJS</li>
          <li class="list-group-item">Javascript</li>
          <li class="list-group-item">Dygraph</li>
          <li class="list-group-item">Bootstrap</li>
          <li class="list-group-item">Python</li>
          <li class="list-group-item">Arduino Uno</li>
        </ul>
      </div>

    </div>

    <!-- Show Raw Data Button -->
    <div class="row">
      <div style="padding-top:10px">
        <button id="toggleRawSoundDataId" ng-click="toggleSoundDataTable()" class="btn btn-info">{{soundTableButtonText}}
        </button>
      </div>
      <hr>
    </div>
    

    <!-- Sound Data Table -->
    
    <div class="row" ng-show="showSoundTable">
      <h3>Raw Sound Data:</h3>
      <div id="soundDataTable" class="row">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Frequency (Hz)</th>
              <th>Timestamp</th>
            </tr>
          </thead>
          <!-- This will be populated in the sound project controller -->
          <tbody>
          </tbody>
        </table>
      </div>
      <hr>
    </div>

    <div ng-include="'footer'"></div>

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script src="/javascripts/jquery-2.1.1.min.js"></script>
    <script src="/javascripts/bootstrap.min.js"></script>
    <script src="/javascripts/jquery.csv-0.71.min.js"></script>
    <script src="/javascripts/sound-project.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js" charset="utf-8"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/dygraph/1.1.1/dygraph-combined.js"></script>
  </body>
</html>
