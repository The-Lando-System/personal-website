<!-- Header -->
<div class="row">
  <div class="container">
    <div class="page-header" style="padding-top:1px;">
      <h1>Sound Project</h1>
      <h1><small>An exploration of web development and Arduino hacking</small></h1>
    </div>
  </div>
</div>

<!-- Graph Row -->
<div class="row">
  <div class="container">
    
  </div>
  <br/>
</div>

<!-- Graph Controls -->
<div class="row">
  <div class="container">
    <div class="col-md-4">
      <div id="controlDiv" class="panel panel-primary" style="max-width:600px;">

        <div class="panel-heading">
          <h3 class="panel-title">Graph Controls</h3>
        </div>

        <div class="panel-body">
            <h4>Refresh Interval:</h4>
            <div>
              <label><input id="oneSecInt" type="radio" name="refreshInterval" ng-model="refreshIntervalValue" ng-change="toggleGraphControls()" checked="checked" value="1000">1 second</label>
            </div>

            <div>
              <label><input id="oneHundredMilliInt" type="radio" name="refreshInterval" ng-model="refreshIntervalValue" ng-change="toggleGraphControls()" value="100">100 milliseconds</label>
            </div>

            <div style="padding-top:10px">
              <label>
                <input id="autoRefreshCheckbox" type="checkbox" ng-model="refreshCheckboxValue" ng-change="toggleGraphControls()"> Auto-Refresh
              </label>
            </div>

            <div style="padding-top:10px">
              <button id="deleteSoundDataBtn" ng-click="deleteSoundData()" class="btn btn-warning">Reset Data</button>
            </div>

            <!-- Load Sample Data Button -->
            <div style="padding-top:10px">
              <button id="loadCSVDataBtn" ng-click="loadCSVData()" class="btn btn-info" title="Load a set of sample data into the graph and table">Load Sample Data</button>
            </div>
        </div>
        
      </div>

    </div>

    <div class="col-md-4">
      <div id="graphDiv"></div>
    </div>

  </div>
</div>



<div class="row">
  <div class="container">
    <!-- Sound Project Info -->
    <div class="col-md-6">
      <h2>Summary</h2>
      <p>This page can display sound data collected from my Arduino board via a Piezo transducer. The Piezo will convert a mechanical vibration to an analog signal which then passes through an ADC to output discrete values based on the frequency of vibration. When I plug the Arduino board to my computer, I can read the data on the serial port. I wrote a Python script to collect this data, and post it to an endpoint on this website at a configurable rate. I store the sound data in a Mongo DB back end, and display it in a JS visualization tool called Dynagraph.</p>
      <p>The point of this project was two-fold: create a website using the MEAN stack, and combine it with an Arduino project. I was also able to deploy the site to Heroku.</p>
    </div>
    <div class="col-md-6">
      <h2>Technologies Used</h2>
      <ul class="list-group">
        <li class="list-group-item">MongoDB</li>
        <li class="list-group-item">Express</li>
        <li class="list-group-item">AngularJS</li>
        <li class="list-group-item">NodeJS</li>
        <li class="list-group-item">Javascript</li>
        <li class="list-group-item">Dygraph</li>
        <li class="list-group-item">Bootstrap</li>
        <li class="list-group-item">Python</li>
        <li class="list-group-item">Arduino Uno</li>
      </ul>
    </div>
  </div>
</div>

<!-- Show Raw Data Button -->
<div class="row">
  <div class="container">
    <div style="padding-top:10px; padding-left:10px;">
      <button id="toggleRawSoundDataId" ng-click="toggleSoundDataTable()" class="btn btn-info">
        {{soundTableButtonText}}
      </button>
    </div>
    <br/>
  </div>
</div>

<!-- Sound Data Table -->
<div class="row" ng-show="showSoundTable">
  <div class="container">
    <h3>Raw Sound Data:</h3>
    <div id="soundDataTable" class="row">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Frequency (Hz)</th>
            <th>Timestamp</th>
          </tr>
        </thead>
        <!-- This will be populated in the sound project controller -->
        <tbody>
        </tbody>
      </table>
    </div>
  </div>
</div>